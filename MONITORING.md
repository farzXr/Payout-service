# Базовый мониторинг - логи и метрики (без трассировок)
## Стек
- Prometheus - сбор и работа с метриками
- Promtail - сбор логов
- Loki - хранение и работа с логами
- Grafana - визуализация 

## Запуск
Инфраструктура мониторинга прописана в docker-compose.override, поэтому всё запускается автоматически при запуске приложение командой
```commandline
docker compose up -d --build
```
В приложении всё настроено и отлажено, одной этой команды хватает.

## Просмотр 
Мы можем посмотреть на результаты работы по адресу 
```commandline
{BASE_URL}/grafana:3000
```
И авторизироваться по базовой инструкции
- user: developer (или базовый admin)
- password: 4848 (или базовый admin)

Надо будет открыть dashboard - `payout-service`, там можно будет наблюдать простенькие кастомные панели для мониторинга 

Если dashboard автоматически не подгрузился, тогда его надо будет вставить руками через import как код, исходник лежит в docker/override-grafana/dashboards-grafana/dashboard.json

ps.

На дашборде панели самые базовые, не стал сильно заморачиваться, поскольку ещё метрики наших api базовый prometheus не захватывает. Можно было поиграться с логами, но я их просто вывел по task|status|api